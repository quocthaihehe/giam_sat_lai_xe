==============================================
HƯỚNG DẪN SỬ DỤNG HỆ THỐNG GIÁM SÁT LÁI XE
==============================================

I. ĐĂNG NHẬP BẰNG KHUÔN MẶT (FACE LOGIN)
----------------------------------------

1. Đăng Ký Khuôn Mặt Lần Đầu:
   - Nhấn nút "Đăng ký tài khoản mới"
   - Điền đầy đủ thông tin: Tên, SĐT, Username, Password
   - Nhấn "Register with Face"
   - Đặt mặt vào khung oval màu trắng
   - Giữ yên khi khung chuyển sang màu xanh
   - Hệ thống tự động chụp và lưu khuôn mặt
   
2. Đăng Nhập Bằng Khuôn Mặt:
   - Nhấn nút "Đăng nhập bằng khuôn mặt"
   - Camera sẽ mở với khung oval hướng dẫn
   - Đặt mặt vào khung oval
   - Hệ thống tự động quét và so khớp
   - Nếu nhận diện thành công → Chuyển đến trang chủ người dùng
   - Nếu không tìm thấy → Hiển thị thông báo lỗi

3. Lưu Ý Khi Sử Dụng Face Login:
   - Ánh sáng: Đăng ký và login trong điều kiện ánh sáng tương tự
   - Không quá tối hoặc quá chói
   - Nhìn thẳng vào camera
   - Khuôn mặt nằm hoàn toàn trong khung oval
   - Không đeo khẩu trang, kính đen

II. CẤU HÌNH MODEL AI (ADMIN)
-----------------------------

1. Truy Cập Model Test UI:
   - Đăng nhập với tài khoản Admin
   - Vào mục "Quản Lý Model"
   
2. Cấu Hình Model Sinh Trắc Học (Face Recognition):
   - Chọn Model: Hiện tại chỉ hỗ trợ "ArcFace (v2.1)"
   - Browse File: Chọn file .pt của model (nếu có)
   - Điều chỉnh các thông số:
     * Ngưỡng Độ Tin Cậy: 0.3 - 1.0 (default: 0.75)
     * Kích Thước Khuôn Mặt Tối Thiểu: 20 - 100px (default: 50)
     * Ngưỡng Cosine Similarity: 0.2 - 1.0 (default: 0.6)
       → Giảm giá trị này nếu face login không nhận diện được
       → Tăng giá trị để tăng độ chính xác (giảm false positive)
   
   - Nhấn "Lưu Cấu Hình" để lưu vào model_config.json
   - Nhấn "Test Model" để kiểm tra cấu hình (xem log trong terminal)

3. Cấu Hình Model Nhận Diện Ngủ Gật:
   - Chọn Model: "YOLOv8n-Drowsy (v1.0)" hoặc các model khác
   - Browse File: Chọn file .pt
   - Điều chỉnh thông số:
     * Ngưỡng Tin Cậy: 0.0 - 1.0 (default: 0.5)
     * Ngưỡng IoU (NMS): 0.0 - 1.0 (default: 0.45)
   - Nhấn "Lưu Cấu Hình"
   - Nhấn "Test Model"

4. File Cấu Hình:
   - Đường dẫn: src/GUI/data/model_config.json
   - Chứa tất cả cấu hình model và camera
   - Face login sẽ tự động đọc từ file này
   - Đồng bộ hoàn toàn giữa Model Test UI và Face Login

III. XỬ LÝ SỰ CỐ
----------------

1. Face Login Không Nhận Diện Được:
   - Kiểm tra ánh sáng
   - Giảm Cosine Similarity threshold trong Model Test UI (xuống 0.3-0.4)
   - Đăng ký lại khuôn mặt trong điều kiện ánh sáng tốt hơn
   
2. Lỗi "Model Chưa Được Hỗ Trợ":
   - Vào Model Test UI
   - Đổi model về "ArcFace (v2.1)"
   - Lưu cấu hình
   - Thử login lại

3. Camera Không Hiển Thị:
   - Kiểm tra camera đã kết nối
   - Refresh lại trang
   - Kiểm tra quyền truy cập camera

IV. THÔNG TIN KỸ THUẬT
-----------------------

Face Recognition:
- Model: ArcFace v2.1
- Threshold mặc định: 60% (cosine similarity)
- Có thể điều chỉnh từ 20% - 100%
- Mã hóa: AES encryption cho face embeddings

Lưu Trữ:
- accounts.json: Thông tin user và face data
- model_config.json: Cấu hình models
- Face embeddings được mã hóa với password của user

Bảo Mật:
- Face embedding được mã hóa AES
- Password hiện tại lưu plaintext (cần cải thiện trong tương lai)

==============================================
Hỗ trợ: contact@example.com
Phiên bản: 1.0.0
Cập nhật: 03/02/2026
==============================================
